{"version":3,"names":["IntegrationTestManager","require","module","exports","console","log","startTime","Date","now","testManager","dbTest","testDatabaseConnection","success","Error","error","redisTest","testRedisConnection","warn","setupTestEnvironment","global","__INTEGRATION_TEST_MANAGER__","endTime","message"],"sources":["integration-global-setup.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-require-imports */\n/**\n * ƒ∞-EP.APP - Integration Tests Global Setup\n * T√ºm integration testleri √∂ncesinde √ßalƒ±≈üƒ±r\n */\n\nconst { IntegrationTestManager } = require('./integration-test-setup');\n\nmodule.exports = async () => {\n  console.log('üöÄ Starting integration tests global setup...');\n  \n  const startTime = Date.now();\n  \n  try {\n    // Create test manager instance\n    const testManager = new IntegrationTestManager();\n    \n    // Test database connection\n    console.log('üîç Testing database connection...');\n    const dbTest = await testManager.testDatabaseConnection();\n    if (!dbTest.success) {\n      throw new Error(`Database connection failed: ${dbTest.error}`);\n    }\n    console.log('‚úÖ Database connection successful');\n    \n    // Test Redis connection\n    console.log('üîç Testing Redis connection...');\n    const redisTest = await testManager.testRedisConnection();\n    if (!redisTest.success) {\n      console.warn('‚ö†Ô∏è  Redis connection failed:', redisTest.error);\n      console.warn('‚ö†Ô∏è  Some tests may fail if they require Redis');\n    } else {\n      console.log('‚úÖ Redis connection successful');\n    }\n    \n    // Setup clean test environment\n    console.log('üßπ Setting up clean test environment...');\n    await testManager.setupTestEnvironment();\n    \n    // Store global test manager for cleanup\n    global.__INTEGRATION_TEST_MANAGER__ = testManager;\n    \n    const endTime = Date.now();\n    console.log(`‚úÖ Integration tests global setup completed in ${endTime - startTime}ms`);\n    console.log('üéØ Environment ready for integration testing');\n    \n  } catch (error) {\n    console.error('‚ùå Integration tests global setup failed:', error.message);\n    console.error('');\n    console.error('üîß Common solutions:');\n    console.error('   1. Make sure Supabase is running: npx supabase start');\n    console.error('   2. Make sure Redis is running: redis-server');\n    console.error('   3. Check .env.test file has correct DATABASE_URL and REDIS_URL');\n    console.error('   4. Verify test database is accessible');\n    console.error('');\n    \n    // Don't fail immediately, let individual tests handle connection errors\n    console.warn('‚ö†Ô∏è  Continuing with setup warnings...');\n  }\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,MAAM;EAAEA;AAAuB,CAAC,GAAGC,OAAO,CAAC,0BAA0B,CAAC;AAEtEC,MAAM,CAACC,OAAO,GAAG,YAAY;EAC3BC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;EAE5D,MAAMC,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;EAE5B,IAAI;IACF;IACA,MAAMC,WAAW,GAAG,IAAIT,sBAAsB,CAAC,CAAC;;IAEhD;IACAI,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAChD,MAAMK,MAAM,GAAG,MAAMD,WAAW,CAACE,sBAAsB,CAAC,CAAC;IACzD,IAAI,CAACD,MAAM,CAACE,OAAO,EAAE;MACnB,MAAM,IAAIC,KAAK,CAAC,+BAA+BH,MAAM,CAACI,KAAK,EAAE,CAAC;IAChE;IACAV,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;;IAE/C;IACAD,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;IAC7C,MAAMU,SAAS,GAAG,MAAMN,WAAW,CAACO,mBAAmB,CAAC,CAAC;IACzD,IAAI,CAACD,SAAS,CAACH,OAAO,EAAE;MACtBR,OAAO,CAACa,IAAI,CAAC,8BAA8B,EAAEF,SAAS,CAACD,KAAK,CAAC;MAC7DV,OAAO,CAACa,IAAI,CAAC,+CAA+C,CAAC;IAC/D,CAAC,MAAM;MACLb,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;IAC9C;;IAEA;IACAD,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;IACtD,MAAMI,WAAW,CAACS,oBAAoB,CAAC,CAAC;;IAExC;IACAC,MAAM,CAACC,4BAA4B,GAAGX,WAAW;IAEjD,MAAMY,OAAO,GAAGd,IAAI,CAACC,GAAG,CAAC,CAAC;IAC1BJ,OAAO,CAACC,GAAG,CAAC,iDAAiDgB,OAAO,GAAGf,SAAS,IAAI,CAAC;IACrFF,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;EAE7D,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdV,OAAO,CAACU,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAACQ,OAAO,CAAC;IACxElB,OAAO,CAACU,KAAK,CAAC,EAAE,CAAC;IACjBV,OAAO,CAACU,KAAK,CAAC,sBAAsB,CAAC;IACrCV,OAAO,CAACU,KAAK,CAAC,yDAAyD,CAAC;IACxEV,OAAO,CAACU,KAAK,CAAC,gDAAgD,CAAC;IAC/DV,OAAO,CAACU,KAAK,CAAC,mEAAmE,CAAC;IAClFV,OAAO,CAACU,KAAK,CAAC,0CAA0C,CAAC;IACzDV,OAAO,CAACU,KAAK,CAAC,EAAE,CAAC;;IAEjB;IACAV,OAAO,CAACa,IAAI,CAAC,uCAAuC,CAAC;EACvD;AACF,CAAC","ignoreList":[]}