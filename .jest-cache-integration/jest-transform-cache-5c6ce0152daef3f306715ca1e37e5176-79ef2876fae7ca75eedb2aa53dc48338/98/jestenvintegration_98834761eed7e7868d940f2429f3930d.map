{"version":3,"sources":["/Users/turanmusabosman/Projects/i-ep.app/jest.env.integration.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-require-imports */\n/**\n * ƒ∞-EP.APP - Integration Test Environment Variables Loader\n * Bu dosya integration testleri √∂ncesinde gerekli env deƒüi≈ükenlerini y√ºkler\n */\n\nconst { config } = require('dotenv');\nconst path = require('path');\n\n// FORCE load .env.test file directly\nconst envPath = path.resolve(process.cwd(), '.env.test');\nconsole.log('üîß Loading .env.test from:', envPath);\n\nconst result = config({ path: envPath, override: true });\n\n// MANUAL environment variable setting for critical ones\nif (!process.env.NEXT_PUBLIC_SUPABASE_URL) {\n  process.env.NEXT_PUBLIC_SUPABASE_URL = 'http://localhost:54321';\n}\nif (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\n  process.env.SUPABASE_SERVICE_ROLE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU';\n}\nif (!process.env.REDIS_URL) {\n  process.env.REDIS_URL = 'redis://localhost:6379';\n}\nif (!process.env.TEST_TENANT_ID) {\n  process.env.TEST_TENANT_ID = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';\n}\n\nif (result.error) {\n  console.warn('‚ö†Ô∏è  Integration Test Environment Warning:', result.error.message);\n  console.warn('üìù Make sure .env.test file exists with required variables');\n}\n\n// Validate critical environment variables for integration tests\nconst requiredVars = [\n  'DATABASE_URL',\n  'NEXT_PUBLIC_SUPABASE_URL',\n  'NEXT_PUBLIC_SUPABASE_ANON_KEY',\n  'SUPABASE_SERVICE_ROLE_KEY',\n  'REDIS_URL',\n  'NEXTAUTH_SECRET',\n  'TEST_TENANT_ID'\n];\n\nconst missingVars = requiredVars.filter(varName => !process.env[varName]);\n\nif (missingVars.length > 0) {\n  console.error('‚ùå Integration Test Environment Error:');\n  console.error('Missing required environment variables:', missingVars.join(', '));\n  console.error('');\n  console.error('üîß Required variables in .env.test:');\n  missingVars.forEach(varName => {\n    console.error(`   ${varName}=your-value-here`);\n  });\n  console.error('');\n  console.error('üìñ See .env.example for reference values');\n  process.exit(1);\n}\n\n// Set NODE_ENV to test if not already set\nif (!process.env.NODE_ENV) {\n  process.env.NODE_ENV = 'test';\n}\n\n// Ensure test environment isolation\nprocess.env.NODE_ENV = 'test';\n\n// Integration test specific environment setup\nprocess.env.TEST_ENVIRONMENT = 'integration';\nprocess.env.JEST_WORKER_ID = process.env.JEST_WORKER_ID || '1';\n\nconsole.log('‚úÖ Integration test environment loaded successfully');\nconsole.log(`üìä Database: ${process.env.DATABASE_URL?.includes('localhost') ? 'Local Supabase' : 'Remote'}`);\nconsole.log(`üîÑ Redis: ${process.env.REDIS_URL?.includes('localhost') ? 'Local Redis' : 'Remote'}`);\nconsole.log(`üè¢ Test Tenant: ${process.env.TEST_TENANT_ID}`);"],"names":["config","require","path","envPath","resolve","process","cwd","console","log","result","override","env","NEXT_PUBLIC_SUPABASE_URL","SUPABASE_SERVICE_ROLE_KEY","REDIS_URL","TEST_TENANT_ID","error","warn","message","requiredVars","missingVars","filter","varName","length","join","forEach","exit","NODE_ENV","TEST_ENVIRONMENT","JEST_WORKER_ID","DATABASE_URL","includes"],"mappings":"AAAA,wDAAwD,GACxD;;;CAGC;AAED,MAAM,EAAEA,MAAM,EAAE,GAAGC,QAAQ;AAC3B,MAAMC,OAAOD,QAAQ;AAErB,qCAAqC;AACrC,MAAME,UAAUD,KAAKE,OAAO,CAACC,QAAQC,GAAG,IAAI;AAC5CC,QAAQC,GAAG,CAAC,8BAA8BL;AAE1C,MAAMM,SAAST,OAAO;IAAEE,MAAMC;IAASO,UAAU;AAAK;AAEtD,wDAAwD;AACxD,IAAI,CAACL,QAAQM,GAAG,CAACC,wBAAwB,EAAE;IACzCP,QAAQM,GAAG,CAACC,wBAAwB,GAAG;AACzC;AACA,IAAI,CAACP,QAAQM,GAAG,CAACE,yBAAyB,EAAE;IAC1CR,QAAQM,GAAG,CAACE,yBAAyB,GAAG;AAC1C;AACA,IAAI,CAACR,QAAQM,GAAG,CAACG,SAAS,EAAE;IAC1BT,QAAQM,GAAG,CAACG,SAAS,GAAG;AAC1B;AACA,IAAI,CAACT,QAAQM,GAAG,CAACI,cAAc,EAAE;IAC/BV,QAAQM,GAAG,CAACI,cAAc,GAAG;AAC/B;AAEA,IAAIN,OAAOO,KAAK,EAAE;IAChBT,QAAQU,IAAI,CAAC,6CAA6CR,OAAOO,KAAK,CAACE,OAAO;IAC9EX,QAAQU,IAAI,CAAC;AACf;AAEA,gEAAgE;AAChE,MAAME,eAAe;IACnB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAMC,cAAcD,aAAaE,MAAM,CAACC,CAAAA,UAAW,CAACjB,QAAQM,GAAG,CAACW,QAAQ;AAExE,IAAIF,YAAYG,MAAM,GAAG,GAAG;IAC1BhB,QAAQS,KAAK,CAAC;IACdT,QAAQS,KAAK,CAAC,2CAA2CI,YAAYI,IAAI,CAAC;IAC1EjB,QAAQS,KAAK,CAAC;IACdT,QAAQS,KAAK,CAAC;IACdI,YAAYK,OAAO,CAACH,CAAAA;QAClBf,QAAQS,KAAK,CAAC,CAAC,GAAG,EAAEM,QAAQ,gBAAgB,CAAC;IAC/C;IACAf,QAAQS,KAAK,CAAC;IACdT,QAAQS,KAAK,CAAC;IACdX,QAAQqB,IAAI,CAAC;AACf;AAEA,0CAA0C;AAC1C,IAAI,CAACrB,QAAQM,GAAG,CAACgB,QAAQ,EAAE;IACzBtB,QAAQM,GAAG,CAACgB,QAAQ,GAAG;AACzB;AAEA,oCAAoC;AACpCtB,QAAQM,GAAG,CAACgB,QAAQ,GAAG;AAEvB,8CAA8C;AAC9CtB,QAAQM,GAAG,CAACiB,gBAAgB,GAAG;AAC/BvB,QAAQM,GAAG,CAACkB,cAAc,GAAGxB,QAAQM,GAAG,CAACkB,cAAc,IAAI;AAE3DtB,QAAQC,GAAG,CAAC;AACZD,QAAQC,GAAG,CAAC,CAAC,aAAa,EAAEH,QAAQM,GAAG,CAACmB,YAAY,EAAEC,SAAS,eAAe,mBAAmB,UAAU;AAC3GxB,QAAQC,GAAG,CAAC,CAAC,UAAU,EAAEH,QAAQM,GAAG,CAACG,SAAS,EAAEiB,SAAS,eAAe,gBAAgB,UAAU;AAClGxB,QAAQC,GAAG,CAAC,CAAC,gBAAgB,EAAEH,QAAQM,GAAG,CAACI,cAAc,EAAE"}