{"version":3,"names":["config","require","path","envPath","resolve","process","cwd","console","log","result","override","env","NEXT_PUBLIC_SUPABASE_URL","SUPABASE_SERVICE_ROLE_KEY","REDIS_URL","TEST_TENANT_ID","error","warn","message","requiredVars","missingVars","filter","varName","length","join","forEach","exit","NODE_ENV","TEST_ENVIRONMENT","JEST_WORKER_ID","DATABASE_URL","includes"],"sources":["jest.env.integration.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-require-imports */\n/**\n * ƒ∞-EP.APP - Integration Test Environment Variables Loader\n * Bu dosya integration testleri √∂ncesinde gerekli env deƒüi≈ükenlerini y√ºkler\n */\n\nconst { config } = require('dotenv');\nconst path = require('path');\n\n// FORCE load .env.test file directly\nconst envPath = path.resolve(process.cwd(), '.env.test');\nconsole.log('üîß Loading .env.test from:', envPath);\n\nconst result = config({ path: envPath, override: true });\n\n// MANUAL environment variable setting for critical ones\nif (!process.env.NEXT_PUBLIC_SUPABASE_URL) {\n  process.env.NEXT_PUBLIC_SUPABASE_URL = 'http://localhost:54321';\n}\nif (!process.env.SUPABASE_SERVICE_ROLE_KEY) {\n  process.env.SUPABASE_SERVICE_ROLE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU';\n}\nif (!process.env.REDIS_URL) {\n  process.env.REDIS_URL = 'redis://localhost:6379';\n}\nif (!process.env.TEST_TENANT_ID) {\n  process.env.TEST_TENANT_ID = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';\n}\n\nif (result.error) {\n  console.warn('‚ö†Ô∏è  Integration Test Environment Warning:', result.error.message);\n  console.warn('üìù Make sure .env.test file exists with required variables');\n}\n\n// Validate critical environment variables for integration tests\nconst requiredVars = [\n  'DATABASE_URL',\n  'NEXT_PUBLIC_SUPABASE_URL',\n  'NEXT_PUBLIC_SUPABASE_ANON_KEY',\n  'SUPABASE_SERVICE_ROLE_KEY',\n  'REDIS_URL',\n  'NEXTAUTH_SECRET',\n  'TEST_TENANT_ID'\n];\n\nconst missingVars = requiredVars.filter(varName => !process.env[varName]);\n\nif (missingVars.length > 0) {\n  console.error('‚ùå Integration Test Environment Error:');\n  console.error('Missing required environment variables:', missingVars.join(', '));\n  console.error('');\n  console.error('üîß Required variables in .env.test:');\n  missingVars.forEach(varName => {\n    console.error(`   ${varName}=your-value-here`);\n  });\n  console.error('');\n  console.error('üìñ See .env.example for reference values');\n  process.exit(1);\n}\n\n// Set NODE_ENV to test if not already set\nif (!process.env.NODE_ENV) {\n  process.env.NODE_ENV = 'test';\n}\n\n// Ensure test environment isolation\nprocess.env.NODE_ENV = 'test';\n\n// Integration test specific environment setup\nprocess.env.TEST_ENVIRONMENT = 'integration';\nprocess.env.JEST_WORKER_ID = process.env.JEST_WORKER_ID || '1';\n\nconsole.log('‚úÖ Integration test environment loaded successfully');\nconsole.log(`üìä Database: ${process.env.DATABASE_URL?.includes('localhost') ? 'Local Supabase' : 'Remote'}`);\nconsole.log(`üîÑ Redis: ${process.env.REDIS_URL?.includes('localhost') ? 'Local Redis' : 'Remote'}`);\nconsole.log(`üè¢ Test Tenant: ${process.env.TEST_TENANT_ID}`);"],"mappings":"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","ignoreList":[]}